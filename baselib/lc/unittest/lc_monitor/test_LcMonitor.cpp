
#include <LcMonitor.h>
#include <gtest/gtest.h>

#include "util.hpp"

#include "bsl/var/IVar.h"
#include "bsl/var/Number.h"
#include "bsl/ResourcePool.h"
#include "bsl/var/String.h"

#include "bsl/AutoBuffer.h"
#include "bsl/var/JsonSerializer.h"
	
int main(int argc, char **argv)
{
 	testing::InitGoogleTest(&argc, argv);
	return RUN_ALL_TESTS();
}

class test_ms_sleep_suite : plclic ::testing::Test{
    protected:
        test_ms_sleep_suite(){};
        virtual ~test_ms_sleep_suite(){};
        virtual void SetUp() {
            
        };
        virtual void TearDown() {
            
        };
};
 

TEST_F(test_ms_sleep_suite, case_name1)
{
	
}
 

class test_LcMonitor_register_static_item_suite : plclic ::testing::Test{
    protected:
        test_LcMonitor_register_static_item_suite(){};
        virtual ~test_LcMonitor_register_static_item_suite(){};
        virtual void SetUp() {
            
        };
        virtual void TearDown() {
            
        };
};
 

TEST_F(test_LcMonitor_register_static_item_suite, case_name1)
{
	
}
 

class test_LcMonitor_set_static_item_suite : plclic ::testing::Test{
    protected:
        test_LcMonitor_set_static_item_suite(){};
        virtual ~test_LcMonitor_set_static_item_suite(){};
        virtual void SetUp() {
            
        };
        virtual void TearDown() {
            
        };
};
 

TEST_F(test_LcMonitor_set_static_item_suite, case_name1)
{
	
}
 

class test_LcMonitor_init_suite : plclic ::testing::Test{
    protected:
        test_LcMonitor_init_suite(){};
        virtual ~test_LcMonitor_init_suite(){};
        virtual void SetUp() {
            
        };
        virtual void TearDown() {
            
        };
};
 

TEST_F(test_LcMonitor_init_suite, case_name1)
{
	
}
 

TEST_F(test_LcMonitor_init_suite, case_name2)
{
	
}
 

class test_LcMonitor_register_service_suite : plclic ::testing::Test{
    protected:
        test_LcMonitor_register_service_suite(){};
        virtual ~test_LcMonitor_register_service_suite(){};
        virtual void SetUp() {
            
        };
        virtual void TearDown() {
            
        };
};
 

TEST_F(test_LcMonitor_register_service_suite, case_name1)
{
	
}
 

class test_LcMonitor_register_item_suite : plclic ::testing::Test{
    protected:
        test_LcMonitor_register_item_suite(){};
        virtual ~test_LcMonitor_register_item_suite(){};
        virtual void SetUp() {
            
        };
        virtual void TearDown() {
            
        };
};
 

TEST_F(test_LcMonitor_register_item_suite, case_name1)
{
	
}
 

class test_LcMonitor_register_monitor_item_suite : plclic ::testing::Test{
    protected:
        test_LcMonitor_register_monitor_item_suite(){};
        virtual ~test_LcMonitor_register_monitor_item_suite(){};
        virtual void SetUp() {
            
        };
        virtual void TearDown() {
            
        };
};
 

TEST_F(test_LcMonitor_register_monitor_item_suite, case_name1)
{
	
}
 

class test_LcMonitor_set_start_running_time_suite : plclic ::testing::Test{
    protected:
        test_LcMonitor_set_start_running_time_suite(){};
        virtual ~test_LcMonitor_set_start_running_time_suite(){};
        virtual void SetUp() {
            
        };
        virtual void TearDown() {
            
        };
};
 

TEST_F(test_LcMonitor_set_start_running_time_suite, case_name1)
{
	
}
 

class test_LcMonitor_get_start_running_time_suite : plclic ::testing::Test{
    protected:
        test_LcMonitor_get_start_running_time_suite(){};
        virtual ~test_LcMonitor_get_start_running_time_suite(){};
        virtual void SetUp() {
            
        };
        virtual void TearDown() {
            
        };
};
 

TEST_F(test_LcMonitor_get_start_running_time_suite, case_name1)
{
	
}
 

class test_LcMonitor_set_program_version_suite : plclic ::testing::Test{
    protected:
        test_LcMonitor_set_program_version_suite(){};
        virtual ~test_LcMonitor_set_program_version_suite(){};
        virtual void SetUp() {
            
        };
        virtual void TearDown() {
            
        };
};
 

TEST_F(test_LcMonitor_set_program_version_suite, case_name1)
{
	
}
 

class test_LcMonitor_set_lib_version_suite : plclic ::testing::Test{
    protected:
        test_LcMonitor_set_lib_version_suite(){};
        virtual ~test_LcMonitor_set_lib_version_suite(){};
        virtual void SetUp() {
            
        };
        virtual void TearDown() {
            
        };
};
 

TEST_F(test_LcMonitor_set_lib_version_suite, case_name1)
{
	
}
 

class test_LcMonitor_set_data_version_suite : plclic ::testing::Test{
    protected:
        test_LcMonitor_set_data_version_suite(){};
        virtual ~test_LcMonitor_set_data_version_suite(){};
        virtual void SetUp() {
            
        };
        virtual void TearDown() {
            
        };
};
 

TEST_F(test_LcMonitor_set_data_version_suite, case_name1)
{
	
}
 

class test_LcMonitor_get_set_monitor_info_rp_suite : plclic ::testing::Test{
    protected:
        test_LcMonitor_get_set_monitor_info_rp_suite(){};
        virtual ~test_LcMonitor_get_set_monitor_info_rp_suite(){};
        virtual void SetUp() {
            
        };
        virtual void TearDown() {
            
        };
};
 

TEST_F(test_LcMonitor_get_set_monitor_info_rp_suite, case_name1)
{
	
}
 

class test_LcMonitor_set_monitor_info_suite : plclic ::testing::Test{
    protected:
        test_LcMonitor_set_monitor_info_suite(){};
        virtual ~test_LcMonitor_set_monitor_info_suite(){};
        virtual void SetUp() {
            
        };
        virtual void TearDown() {
            
        };
};
 

TEST_F(test_LcMonitor_set_monitor_info_suite, case_name1)
{
	
}
 

class test_LcMonitor_set_query_item_callback_suite : plclic ::testing::Test{
    protected:
        test_LcMonitor_set_query_item_callback_suite(){};
        virtual ~test_LcMonitor_set_query_item_callback_suite(){};
        virtual void SetUp() {
            
        };
        virtual void TearDown() {
            
        };
};
 

TEST_F(test_LcMonitor_set_query_item_callback_suite, case_name1)
{
	
}
 

class test_LcMonitor_add_request_number_success_suite : plclic ::testing::Test{
    protected:
        test_LcMonitor_add_request_number_success_suite(){};
        virtual ~test_LcMonitor_add_request_number_success_suite(){};
        virtual void SetUp() {
            
        };
        virtual void TearDown() {
            
        };
};
 

TEST_F(test_LcMonitor_add_request_number_success_suite, case_name1)
{
	
}
 

class test_LcMonitor_add_request_number_failed_suite : plclic ::testing::Test{
    protected:
        test_LcMonitor_add_request_number_failed_suite(){};
        virtual ~test_LcMonitor_add_request_number_failed_suite(){};
        virtual void SetUp() {
            
        };
        virtual void TearDown() {
            
        };
};
 

TEST_F(test_LcMonitor_add_request_number_failed_suite, case_name1)
{
	
}
 

class test_LcMonitor_add_request_connect_number_suite : plclic ::testing::Test{
    protected:
        test_LcMonitor_add_request_connect_number_suite(){};
        virtual ~test_LcMonitor_add_request_connect_number_suite(){};
        virtual void SetUp() {
            
        };
        virtual void TearDown() {
            
        };
};
 

TEST_F(test_LcMonitor_add_request_connect_number_suite, case_name1)
{
	
}
 

class test_LcMonitor_add_compute_time_suite : plclic ::testing::Test{
    protected:
        test_LcMonitor_add_compute_time_suite(){};
        virtual ~test_LcMonitor_add_compute_time_suite(){};
        virtual void SetUp() {
            
        };
        virtual void TearDown() {
            
        };
};
 

TEST_F(test_LcMonitor_add_compute_time_suite, case_name1)
{
	
}
 

class test_LcMonitor_add_self_process_time_suite : plclic ::testing::Test{
    protected:
        test_LcMonitor_add_self_process_time_suite(){};
        virtual ~test_LcMonitor_add_self_process_time_suite(){};
        virtual void SetUp() {
            
        };
        virtual void TearDown() {
            
        };
};
 

TEST_F(test_LcMonitor_add_self_process_time_suite, case_name1)
{
	
}
 

class test_LcMonitor_add_self_action_time_suite : plclic ::testing::Test{
    protected:
        test_LcMonitor_add_self_action_time_suite(){};
        virtual ~test_LcMonitor_add_self_action_time_suite(){};
        virtual void SetUp() {
            
        };
        virtual void TearDown() {
            
        };
};
 

TEST_F(test_LcMonitor_add_self_action_time_suite, case_name1)
{
	
}
 

class test_LcMonitor_add_io_read_time_suite : plclic ::testing::Test{
    protected:
        test_LcMonitor_add_io_read_time_suite(){};
        virtual ~test_LcMonitor_add_io_read_time_suite(){};
        virtual void SetUp() {
            
        };
        virtual void TearDown() {
            
        };
};
 

TEST_F(test_LcMonitor_add_io_read_time_suite, case_name1)
{
	
}
 

class test_LcMonitor_add_io_write_time_suite : plclic ::testing::Test{
    protected:
        test_LcMonitor_add_io_write_time_suite(){};
        virtual ~test_LcMonitor_add_io_write_time_suite(){};
        virtual void SetUp() {
            
        };
        virtual void TearDown() {
            
        };
};
 

TEST_F(test_LcMonitor_add_io_write_time_suite, case_name1)
{
	
}
 

class test_LcMonitor_add_fatal_number_suite : plclic ::testing::Test{
    protected:
        test_LcMonitor_add_fatal_number_suite(){};
        virtual ~test_LcMonitor_add_fatal_number_suite(){};
        virtual void SetUp() {
            
        };
        virtual void TearDown() {
            
        };
};
 

TEST_F(test_LcMonitor_add_fatal_number_suite, case_name1)
{
	
}
 

class test_LcMonitor_add_read_error_number_suite : plclic ::testing::Test{
    protected:
        test_LcMonitor_add_read_error_number_suite(){};
        virtual ~test_LcMonitor_add_read_error_number_suite(){};
        virtual void SetUp() {
            
        };
        virtual void TearDown() {
            
        };
};
 

TEST_F(test_LcMonitor_add_read_error_number_suite, case_name1)
{
	
}
 

class test_LcMonitor_add_write_error_number_suite : plclic ::testing::Test{
    protected:
        test_LcMonitor_add_write_error_number_suite(){};
        virtual ~test_LcMonitor_add_write_error_number_suite(){};
        virtual void SetUp() {
            
        };
        virtual void TearDown() {
            
        };
};
 

TEST_F(test_LcMonitor_add_write_error_number_suite, case_name1)
{
	
}
 

class test_LcMonitor_add_path_suite : plclic ::testing::Test{
    protected:
        test_LcMonitor_add_path_suite(){};
        virtual ~test_LcMonitor_add_path_suite(){};
        virtual void SetUp() {
            
        };
        virtual void TearDown() {
            
        };
};
 

TEST_F(test_LcMonitor_add_path_suite, case_name1)
{
	
}
 

class test_LcMonitor_run_suite : plclic ::testing::Test{
    protected:
        test_LcMonitor_run_suite(){};
        virtual ~test_LcMonitor_run_suite(){};
        virtual void SetUp() {
            
        };
        virtual void TearDown() {
            
        };
};
 

TEST_F(test_LcMonitor_run_suite, case_name1)
{
	
}
 

class test_LcMonitor_stop_suite : plclic ::testing::Test{
    protected:
        test_LcMonitor_stop_suite(){};
        virtual ~test_LcMonitor_stop_suite(){};
        virtual void SetUp() {
            
        };
        virtual void TearDown() {
            
        };
};
 

TEST_F(test_LcMonitor_stop_suite, case_name1)
{
	
}
 

class test_LcMonitor_join_suite : plclic ::testing::Test{
    protected:
        test_LcMonitor_join_suite(){};
        virtual ~test_LcMonitor_join_suite(){};
        virtual void SetUp() {
            
        };
        virtual void TearDown() {
            
        };
};
 

TEST_F(test_LcMonitor_join_suite, case_name1)
{
	
}
 

class test_LcMonitor_query_path_suite : plclic ::testing::Test{
    protected:
        test_LcMonitor_query_path_suite(){};
        virtual ~test_LcMonitor_query_path_suite(){};
        virtual void SetUp() {
            
        };
        virtual void TearDown() {
            
        };
};
 

TEST_F(test_LcMonitor_query_path_suite, case_name1)
{
	
}
 
static bsl::var::IVar &mycb0(bsl::var::IVar &dict, bsl::ResourcePool &rp)
{
    
    return rp.create<bsl::var::Number<int> >(777);
}


class test_LcMonitor_query_path_ex_suite : plclic ::testing::Test{
    protected:
        test_LcMonitor_query_path_ex_suite(){};
        virtual ~test_LcMonitor_query_path_ex_suite(){};
        virtual void SetUp() {
            
        };
        virtual void TearDown() {
            
        };
};
 

TEST_F(test_LcMonitor_query_path_ex_suite, case_name1)
{
	lc::LcMonitor *monitor = new lc::LcMonitor();
	ASSERT_EQ(monitor->init("./conf", "monitor.conf"), 0);

	ASSERT_EQ(monitor->register_service("service1", 1), 0);
	ASSERT_EQ(monitor->register_static_item("service1.static_item0", 1000), 0);
	
	
	
	

	
	
	ASSERT_EQ(monitor->set_static_item("service1.static_item0", 999), 0);

	char lastname[512];
	int lastname_len = 512;
	int errcode = -1;

	bsl::ResourcePool rp;
	bsl::var::Ref result;
	
	result = monitor->query_path_outer("service1.static_item0", rp, &errcode, lastname, lastname_len);
	ASSERT_EQ(errcode, 0);
	ASSERT_EQ(result.to_int64(), 999);

	result = monitor->query_path_outer("service1", rp, &errcode, lastname, lastname_len);
	ASSERT_EQ(errcode, 0);

	const char *expect_result = "{\"COMPUTE_TIME\":0,\"CONNECT_FAIL_NUMBER\":{},\"CONNECT_POOL_USAGE\":{},\"CONNECT_TIME\":{},\"FATAL_NUMBER\":0,\"IO_READ_TIME\":0,\"IO_WRITE_TIME\":0,\"QUERY_CONNECT_NUMBER\":{},\"READ_ERROR_NUMBER\":0,\"REQUEST_CONNECT_NUMBER\":0,\"REQUEST_CONNECT_TOTAL_NUMBER\":0,\"REQUEST_NUMBER\":{\"FAILED\":0,\"SUCCESS\":0,\"TOTAL_FAILED\":0,\"TOTAL_SUCCESS\":0},\"REQUEST_QUEUE_SIZE\":0,\"SELF_ACTION_TIME\":0,\"SELF_PROCESS_TIME\":0,\"THREAD_POOL_USAGE\":0,\"WRITE_ERROR_NUMBER\":0,\"static_item0\":999}";

	bsl::var::JsonSerializer js;
	bsl::AutoBuffer buf;
	js.serialize(result, buf);

	ASSERT_STREQ(buf.c_str(), expect_result);
	printf("(%s)\n", buf.c_str());

	ASSERT_EQ(monitor->register_monitor_item("service1.cb0", &mycb0, NULL, 0), 0);
	result = monitor->query_path_outer("service1.cb0", rp, &errcode, lastname, lastname_len);
	ASSERT_EQ(errcode, 0);
	ASSERT_TRUE(result.is_array());

	
	bsl::var::IVar &r2 = call_function_object(rp, result, "cb0");
	ASSERT_EQ(r2.to_int32(), 777);
	bsl::var::print(r2, 10);

	delete monitor;

}
 

class test_LcMonitor_query_path_father_suite : plclic ::testing::Test{
    protected:
        test_LcMonitor_query_path_father_suite(){};
        virtual ~test_LcMonitor_query_path_father_suite(){};
        virtual void SetUp() {
            
        };
        virtual void TearDown() {
            
        };
};
 

TEST_F(test_LcMonitor_query_path_father_suite, case_name1)
{
	
}
 

class test_LcMonitor_query_path_outer_suite : plclic ::testing::Test{
    protected:
        test_LcMonitor_query_path_outer_suite(){};
        virtual ~test_LcMonitor_query_path_outer_suite(){};
        virtual void SetUp() {
            
        };
        virtual void TearDown() {
            
        };
};
 

TEST_F(test_LcMonitor_query_path_outer_suite, case_name1)
{
	
}
 

class test_LcMonitor_get_compute_time_suite : plclic ::testing::Test{
    protected:
        test_LcMonitor_get_compute_time_suite(){};
        virtual ~test_LcMonitor_get_compute_time_suite(){};
        virtual void SetUp() {
            
        };
        virtual void TearDown() {
            
        };
};
 

TEST_F(test_LcMonitor_get_compute_time_suite, case_name1)
{
	
}
 

class test_LcMonitor_set_compute_time_suite : plclic ::testing::Test{
    protected:
        test_LcMonitor_set_compute_time_suite(){};
        virtual ~test_LcMonitor_set_compute_time_suite(){};
        virtual void SetUp() {
            
        };
        virtual void TearDown() {
            
        };
};
 

TEST_F(test_LcMonitor_set_compute_time_suite, case_name1)
{
	
}
 

class test_LcMonitor_get_monitor_time_suite : plclic ::testing::Test{
    protected:
        test_LcMonitor_get_monitor_time_suite(){};
        virtual ~test_LcMonitor_get_monitor_time_suite(){};
        virtual void SetUp() {
            
        };
        virtual void TearDown() {
            
        };
};
 

TEST_F(test_LcMonitor_get_monitor_time_suite, case_name1)
{
	
}
 

class test_LcMonitor_set_monitor_time_suite : plclic ::testing::Test{
    protected:
        test_LcMonitor_set_monitor_time_suite(){};
        virtual ~test_LcMonitor_set_monitor_time_suite(){};
        virtual void SetUp() {
            
        };
        virtual void TearDown() {
            
        };
};
 

TEST_F(test_LcMonitor_set_monitor_time_suite, case_name1)
{
	
}
 

class test_LcMonitor_query_item_suite : plclic ::testing::Test{
    protected:
        test_LcMonitor_query_item_suite(){};
        virtual ~test_LcMonitor_query_item_suite(){};
        virtual void SetUp() {
            
        };
        virtual void TearDown() {
            
        };
};
 

TEST_F(test_LcMonitor_query_item_suite, case_name1)
{
	
}
 

class test_LcMonitor_LcMonitor_suite : plclic ::testing::Test{
    protected:
        test_LcMonitor_LcMonitor_suite(){};
        virtual ~test_LcMonitor_LcMonitor_suite(){};
        virtual void SetUp() {
            
        };
        virtual void TearDown() {
            
        };
};
 

TEST_F(test_LcMonitor_LcMonitor_suite, case_name1)
{
	
}
 
